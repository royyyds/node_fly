function _0x5dc2(_0x3f9e7e,_0x4adcaa){_0x3f9e7e=_0x3f9e7e-0x1b1;const _0x298d61=_0x298d();let _0x5dc230=_0x298d61[_0x3f9e7e];return _0x5dc230;}const _0x1d5980=_0x5dc2;(function(_0x35afe4,_0x1911b0){const _0x25faa2=_0x5dc2,_0x163b09=_0x35afe4();while(!![]){try{const _0x40a94d=-parseInt(_0x25faa2(0x1b9))/0x1+parseInt(_0x25faa2(0x1f5))/0x2+parseInt(_0x25faa2(0x1e9))/0x3+-parseInt(_0x25faa2(0x1c3))/0x4+-parseInt(_0x25faa2(0x1fb))/0x5+parseInt(_0x25faa2(0x1fe))/0x6+-parseInt(_0x25faa2(0x1ee))/0x7*(-parseInt(_0x25faa2(0x1c8))/0x8);if(_0x40a94d===_0x1911b0)break;else _0x163b09['push'](_0x163b09['shift']());}catch(_0x273823){_0x163b09['push'](_0x163b09['shift']());}}}(_0x298d,0x35bad));const os=require('os'),http=require(_0x1d5980(0x1c2)),fs=require('fs'),axios=require(_0x1d5980(0x1b6)),net=require(_0x1d5980(0x1c9)),path=require('path'),crypto=require(_0x1d5980(0x1c5)),{Buffer}=require(_0x1d5980(0x1df)),{exec,execSync}=require(_0x1d5980(0x1cc)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1d5980(0x1f3)][_0x1d5980(0x1d6)]||'c9339767-6c9a-4863-a796-b4d7b0f5d620',UUIDSHOW=process[_0x1d5980(0x1f3)][_0x1d5980(0x1f1)]||'c9339767-6c9a-4863-a796-b4d7b0f5d621',NEZHA_SERVER=process['env'][_0x1d5980(0x1bb)]||'',NEZHA_PORT=process[_0x1d5980(0x1f3)][_0x1d5980(0x1e4)]||'',NEZHA_KEY=process[_0x1d5980(0x1f3)][_0x1d5980(0x1da)]||'',DOMAIN=process['env'][_0x1d5980(0x1f4)]||'1234.cdc.com',AUTO_ACCESS=process[_0x1d5980(0x1f3)][_0x1d5980(0x1e1)]||!![],WSPATH=process[_0x1d5980(0x1f3)][_0x1d5980(0x1ec)]||UUID[_0x1d5980(0x1d8)](0x0,0x8),SUB_PATH=process[_0x1d5980(0x1f3)][_0x1d5980(0x1f0)]||'sb',NAME=process[_0x1d5980(0x1f3)][_0x1d5980(0x1eb)]||'',PORT=process[_0x1d5980(0x1f3)][_0x1d5980(0x1bd)]||0x1eb4;function _0x298d(){const _0x30d9c2=['replace','NAME','WSPATH','text/html','7wBEFnE','reduce','SUB_PATH','UUIDSHOW','https://dns.google/resolve?name=','env','DOMAIN','237984VrejtL','&type=A','base64','Hello\x20world!','substr','write','309530nNQOvF',':443?encryption=none&security=tls&sni=','Not\x20Found\x0a','640074ljtGgH','url','log','createHash','then','close','concat','axios','Answer','every','380677jJZmFj','readUInt16BE','NEZHA_SERVER','writeHead','PORT','Failed\x20to\x20resolve\x20','error','send','Status','http','87032PNEiJy','data','crypto','listen','find','1214536sxmFBY','net','from','decode','child_process','pipe','get','8.8.4.4',':443?security=tls&sni=','toString','Unknown','readUInt8','end','trojan://','UUID','readFile','slice','hex','NEZHA_KEY','message','connection','application/dns-json','text/plain','buffer','connect','AUTO_ACCESS','join','length','NEZHA_PORT','type','1.1.1.1','update','catch','920790bVaysT'];_0x298d=function(){return _0x30d9c2;};return _0x298d();}let ISP=_0x1d5980(0x1d2);const httpServer=http['createServer']((_0x1e466e,_0x56775e)=>{const _0x5d7e5a=_0x1d5980;if(_0x1e466e[_0x5d7e5a(0x1ff)]==='/'){const _0x138044=path[_0x5d7e5a(0x1e2)](__dirname,'index.html');fs[_0x5d7e5a(0x1d7)](_0x138044,'utf8',(_0x5246d5,_0x55a23e)=>{const _0x515b9a=_0x5d7e5a;if(_0x5246d5){_0x56775e[_0x515b9a(0x1bc)](0xc8,{'Content-Type':_0x515b9a(0x1ed)}),_0x56775e[_0x515b9a(0x1d4)](_0x515b9a(0x1f8));return;}_0x56775e[_0x515b9a(0x1bc)](0xc8,{'Content-Type':_0x515b9a(0x1ed)}),_0x56775e[_0x515b9a(0x1d4)](_0x55a23e);});return;}else{if(_0x1e466e[_0x5d7e5a(0x1ff)]==='/'+SUB_PATH){const _0x3b81a2=NAME?NAME+'-'+ISP:ISP,_0x2e65f1='vless://'+UUIDSHOW+'@'+DOMAIN+_0x5d7e5a(0x1fc)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x3b81a2,_0x587c67=_0x5d7e5a(0x1d5)+UUIDSHOW+'@'+DOMAIN+_0x5d7e5a(0x1d0)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x3b81a2,_0x2356c5=_0x2e65f1+'\x0a'+_0x587c67,_0x4edcb0=Buffer[_0x5d7e5a(0x1ca)](_0x2356c5)[_0x5d7e5a(0x1d1)](_0x5d7e5a(0x1f7));_0x56775e[_0x5d7e5a(0x1bc)](0xc8,{'Content-Type':_0x5d7e5a(0x1de)}),_0x56775e[_0x5d7e5a(0x1d4)](_0x4edcb0+'\x0a');}else _0x56775e[_0x5d7e5a(0x1bc)](0x194,{'Content-Type':_0x5d7e5a(0x1de)}),_0x56775e['end'](_0x5d7e5a(0x1fd));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x1d5980(0x1ea)](/-/g,''),DNS_SERVERS=[_0x1d5980(0x1cf),_0x1d5980(0x1e6)];function resolveHost(_0x45e423){return new Promise((_0x369d2c,_0x3884e6)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x45e423)){_0x369d2c(_0x45e423);return;}let _0x9aec19=0x0;function _0xcaa903(){const _0x24cb42=_0x5dc2;if(_0x9aec19>=DNS_SERVERS[_0x24cb42(0x1e3)]){_0x3884e6(new Error(_0x24cb42(0x1be)+_0x45e423+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x59f40f=DNS_SERVERS[_0x9aec19];_0x9aec19++;const _0x14a9ed=_0x24cb42(0x1f2)+encodeURIComponent(_0x45e423)+_0x24cb42(0x1f6);axios[_0x24cb42(0x1ce)](_0x14a9ed,{'timeout':0x1388,'headers':{'Accept':_0x24cb42(0x1dd)}})[_0x24cb42(0x1b3)](_0x110fe1=>{const _0x5da984=_0x24cb42,_0x31dbb9=_0x110fe1[_0x5da984(0x1c4)];if(_0x31dbb9[_0x5da984(0x1c1)]===0x0&&_0x31dbb9[_0x5da984(0x1b7)]&&_0x31dbb9[_0x5da984(0x1b7)]['length']>0x0){const _0x29518a=_0x31dbb9[_0x5da984(0x1b7)][_0x5da984(0x1c7)](_0x2a62e5=>_0x2a62e5[_0x5da984(0x1e5)]===0x1);if(_0x29518a){_0x369d2c(_0x29518a[_0x5da984(0x1c4)]);return;}}_0xcaa903();})[_0x24cb42(0x1e8)](_0x70f46e=>{_0xcaa903();});}_0xcaa903();});}function handleVlessConnection(_0x4edc39,_0x23fa0b){const _0x91e063=_0x1d5980,[_0x59ac1c]=_0x23fa0b,_0x459047=_0x23fa0b[_0x91e063(0x1d8)](0x1,0x11);if(!_0x459047[_0x91e063(0x1b8)]((_0x5e5d34,_0x338f79)=>_0x5e5d34==parseInt(uuid['substr'](_0x338f79*0x2,0x2),0x10)))return![];let _0x156ab8=_0x23fa0b[_0x91e063(0x1d8)](0x11,0x12)[_0x91e063(0x1d3)]()+0x13;const _0x4274df=_0x23fa0b[_0x91e063(0x1d8)](_0x156ab8,_0x156ab8+=0x2)['readUInt16BE'](0x0),_0x20571e=_0x23fa0b[_0x91e063(0x1d8)](_0x156ab8,_0x156ab8+=0x1)['readUInt8'](),_0x33c347=_0x20571e==0x1?_0x23fa0b['slice'](_0x156ab8,_0x156ab8+=0x4)[_0x91e063(0x1e2)]('.'):_0x20571e==0x2?new TextDecoder()[_0x91e063(0x1cb)](_0x23fa0b[_0x91e063(0x1d8)](_0x156ab8+0x1,_0x156ab8+=0x1+_0x23fa0b[_0x91e063(0x1d8)](_0x156ab8,_0x156ab8+0x1)[_0x91e063(0x1d3)]())):_0x20571e==0x3?_0x23fa0b['slice'](_0x156ab8,_0x156ab8+=0x10)[_0x91e063(0x1ef)]((_0x120e41,_0x410343,_0xa3d1c8,_0x1e577f)=>_0xa3d1c8%0x2?_0x120e41[_0x91e063(0x1b5)](_0x1e577f['slice'](_0xa3d1c8-0x1,_0xa3d1c8+0x1)):_0x120e41,[])['map'](_0x1865af=>_0x1865af[_0x91e063(0x1ba)](0x0)[_0x91e063(0x1d1)](0x10))[_0x91e063(0x1e2)](':'):'';_0x4edc39[_0x91e063(0x1c0)](new Uint8Array([_0x59ac1c,0x0]));const _0x26ed47=createWebSocketStream(_0x4edc39);return resolveHost(_0x33c347)[_0x91e063(0x1b3)](_0x2b3c38=>{const _0x181d39=_0x91e063;net[_0x181d39(0x1e0)]({'host':_0x2b3c38,'port':_0x4274df},function(){const _0x56ea22=_0x181d39;this[_0x56ea22(0x1fa)](_0x23fa0b[_0x56ea22(0x1d8)](_0x156ab8)),_0x26ed47['on'](_0x56ea22(0x1bf),()=>{})[_0x56ea22(0x1cd)](this)['on'](_0x56ea22(0x1bf),()=>{})[_0x56ea22(0x1cd)](_0x26ed47);})['on']('error',()=>{});})[_0x91e063(0x1e8)](_0x2d1f0e=>{const _0x5ac9b3=_0x91e063;net[_0x5ac9b3(0x1e0)]({'host':_0x33c347,'port':_0x4274df},function(){const _0x54137b=_0x5ac9b3;this[_0x54137b(0x1fa)](_0x23fa0b[_0x54137b(0x1d8)](_0x156ab8)),_0x26ed47['on'](_0x54137b(0x1bf),()=>{})[_0x54137b(0x1cd)](this)['on'](_0x54137b(0x1bf),()=>{})[_0x54137b(0x1cd)](_0x26ed47);})['on'](_0x5ac9b3(0x1bf),()=>{});}),!![];}function handleTrojanConnection(_0x52d3f4,_0x591c16){const _0x2b715=_0x1d5980;try{if(_0x591c16['length']<0x3a)return![];const _0x43f653=_0x591c16['slice'](0x0,0x38)[_0x2b715(0x1d1)](),_0x2e33fa=[UUID];let _0x87dc53=null;for(const _0x32757d of _0x2e33fa){const _0x332f93=crypto[_0x2b715(0x1b2)]('sha224')[_0x2b715(0x1e7)](_0x32757d)['digest'](_0x2b715(0x1d9));if(_0x332f93===_0x43f653){_0x87dc53=_0x32757d;break;}}if(!_0x87dc53)return![];let _0x15f117=0x38;_0x591c16[_0x15f117]===0xd&&_0x591c16[_0x15f117+0x1]===0xa&&(_0x15f117+=0x2);const _0xa70d04=_0x591c16[_0x15f117];if(_0xa70d04!==0x1)return![];_0x15f117+=0x1;const _0x155321=_0x591c16[_0x15f117];_0x15f117+=0x1;let _0x2f8305,_0x2ec9e2;if(_0x155321===0x1)_0x2f8305=_0x591c16[_0x2b715(0x1d8)](_0x15f117,_0x15f117+0x4)[_0x2b715(0x1e2)]('.'),_0x15f117+=0x4;else{if(_0x155321===0x3){const _0x49be17=_0x591c16[_0x15f117];_0x15f117+=0x1,_0x2f8305=_0x591c16['slice'](_0x15f117,_0x15f117+_0x49be17)[_0x2b715(0x1d1)](),_0x15f117+=_0x49be17;}else{if(_0x155321===0x4)_0x2f8305=_0x591c16['slice'](_0x15f117,_0x15f117+0x10)[_0x2b715(0x1ef)]((_0xb61095,_0x1f84bb,_0x30220f,_0xf96e22)=>_0x30220f%0x2?_0xb61095[_0x2b715(0x1b5)](_0xf96e22[_0x2b715(0x1d8)](_0x30220f-0x1,_0x30220f+0x1)):_0xb61095,[])['map'](_0x25a049=>_0x25a049[_0x2b715(0x1ba)](0x0)[_0x2b715(0x1d1)](0x10))['join'](':'),_0x15f117+=0x10;else return![];}}_0x2ec9e2=_0x591c16[_0x2b715(0x1ba)](_0x15f117),_0x15f117+=0x2;_0x15f117<_0x591c16[_0x2b715(0x1e3)]&&_0x591c16[_0x15f117]===0xd&&_0x591c16[_0x15f117+0x1]===0xa&&(_0x15f117+=0x2);const _0x133926=createWebSocketStream(_0x52d3f4);return resolveHost(_0x2f8305)[_0x2b715(0x1b3)](_0x3f1ece=>{const _0xb6f987=_0x2b715;net[_0xb6f987(0x1e0)]({'host':_0x3f1ece,'port':_0x2ec9e2},function(){const _0x4b6b6c=_0xb6f987;_0x15f117<_0x591c16['length']&&this['write'](_0x591c16[_0x4b6b6c(0x1d8)](_0x15f117)),_0x133926['on'](_0x4b6b6c(0x1bf),()=>{})[_0x4b6b6c(0x1cd)](this)['on'](_0x4b6b6c(0x1bf),()=>{})['pipe'](_0x133926);})['on']('error',()=>{});})[_0x2b715(0x1e8)](_0x244cdf=>{const _0x25df9d=_0x2b715;net[_0x25df9d(0x1e0)]({'host':_0x2f8305,'port':_0x2ec9e2},function(){const _0x426709=_0x25df9d;_0x15f117<_0x591c16[_0x426709(0x1e3)]&&this['write'](_0x591c16[_0x426709(0x1d8)](_0x15f117)),_0x133926['on'](_0x426709(0x1bf),()=>{})[_0x426709(0x1cd)](this)['on'](_0x426709(0x1bf),()=>{})[_0x426709(0x1cd)](_0x133926);})['on'](_0x25df9d(0x1bf),()=>{});}),!![];}catch(_0x50150d){return![];}}wss['on'](_0x1d5980(0x1dc),(_0x111a8b,_0x2f6628)=>{const _0x5e6788=_0x1d5980,_0x25c863=_0x2f6628[_0x5e6788(0x1ff)]||'';_0x111a8b['once'](_0x5e6788(0x1db),_0x3df32f=>{const _0x3ef46f=_0x5e6788;if(_0x3df32f[_0x3ef46f(0x1e3)]>0x11&&_0x3df32f[0x0]===0x0){const _0x4fc362=_0x3df32f[_0x3ef46f(0x1d8)](0x1,0x11),_0x2c44cb=_0x4fc362[_0x3ef46f(0x1b8)]((_0x1c0dec,_0x2f73f3)=>_0x1c0dec==parseInt(uuid[_0x3ef46f(0x1f9)](_0x2f73f3*0x2,0x2),0x10));if(_0x2c44cb){!handleVlessConnection(_0x111a8b,_0x3df32f)&&_0x111a8b[_0x3ef46f(0x1b4)]();return;}}!handleTrojanConnection(_0x111a8b,_0x3df32f)&&_0x111a8b[_0x3ef46f(0x1b4)]();})['on']('error',()=>{});}),httpServer[_0x1d5980(0x1c6)](PORT,()=>{const _0x15f48d=_0x1d5980;console[_0x15f48d(0x1b1)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});